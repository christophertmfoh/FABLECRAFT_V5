/*
 * MAIN CSS - FABLECRAFT NUXT PROJECT
 * Optimized for Nuxt 3 + Tailwind CSS v3 + SSR
 * Uses CSS Cascade Layers to ensure consistent order
 */

/* ========================================
   LAYER DEFINITIONS
   Define cascade layers to control specificity order
   regardless of how Nuxt chunks the CSS
======================================== */
@layer reset, base, tokens, themes, components, utilities;

/* ========================================
   TAILWIND BASE LAYERS
   Must come first for proper cascade
======================================== */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* ========================================
   CUSTOM CSS IMPORTS
   Wrapped in layers to ensure consistent ordering
======================================== */
@layer tokens {
  @import './design-tokens.css';
}

@layer themes {
  @import './theme-system.css';
}

@layer components {
  @import './visual-effects.css';
  @import './paper-texture.css';
}

/* ========================================
   THEME TRANSITION EFFECTS
   Outside layers to ensure highest specificity
======================================== */
.theme-transition,
.theme-transition *,
.theme-transition *::before,
.theme-transition *::after {
  transition: 
    background-color 300ms ease-in-out,
    border-color 300ms ease-in-out,
    color 300ms ease-in-out,
    fill 300ms ease-in-out,
    stroke 300ms ease-in-out !important;
}

/* ========================================
   DEVELOPMENT HELPERS
   CSS custom property debugging
======================================== */
@layer base {
  /* Ensure CSS variables are available globally */
  :root {
    /* Fallback values for critical variables */
    --space-1: 0.25rem;
    --space-2: 0.5rem;
    --space-3: 0.75rem;
    --space-4: 1rem;
    /* These will be overridden by design-tokens.css */
  }
}