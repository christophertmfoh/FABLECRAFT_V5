/*
 * MAIN CSS - FABLECRAFT NUXT PROJECT
 * Foundation-first import strategy for optimal cascade
 * Phase 1: Mathematical Foundation Systems
 */

/* ========================================
   CSS IMPORTS MUST COME FIRST
   Required by CSS specification
======================================== */
@import './design-tokens.css';
@import './theme-base.css';
@import './paper-texture.css';

/* ========================================
   TAILWIND CSS LAYERS
   Standard Tailwind v3 imports for @nuxtjs/tailwindcss
======================================== */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* ========================================
   THEME TRANSITION EFFECTS
   Smooth transitions when switching themes
======================================== */
.theme-transition,
.theme-transition *,
.theme-transition *::before,
.theme-transition *::after {
  transition:
    background-color 300ms ease-in-out,
    border-color 300ms ease-in-out,
    color 300ms ease-in-out,
    fill 300ms ease-in-out,
    stroke 300ms ease-in-out !important;
}

@media (prefers-reduced-motion: reduce) {
  .theme-transition,
  .theme-transition *,
  .theme-transition *::before,
  .theme-transition *::after {
    transition: none !important;
  }
}

/* ========================================
   SPACING FRIENDSHIP LEVELS
   Migrated from old build for visual parity
======================================== */
.mt-best-friends {
  margin-top: var(--space-tiny); /* 4px - using existing token */
}

.mt-friends {
  margin-top: var(--space-sm); /* 12px - using existing token */
}

.mt-acquaintances {
  margin-top: var(--space-lg); /* 20px - using existing token */
}

.p-comfortable {
  padding: var(--space-xl); /* 24px - using existing token */
}

/* ========================================
   GRID UTILITIES
   Consistent spacing for layout grids
======================================== */
.grid-normal {
  gap: var(--space-lg); /* 20px - using existing token */
}

/* ========================================
   SECTION SPACING
   Professional page layout spacing
======================================== */
.section-spacing-compact {
  padding-top: var(--space-6xl); /* 64px */
  padding-bottom: var(--space-6xl); /* 64px */
}

@media (max-width: 768px) {
  .section-spacing-compact {
    padding-top: var(--space-4xl); /* 48px on mobile */
    padding-bottom: var(--space-4xl); /* 48px on mobile */
  }
}

/* ========================================
   VISUAL EFFECTS
   Card depth and hover effects from old build
======================================== */
.natural-depth {
  position: relative;
  z-index: 1;
  backdrop-filter: blur(1px);
  transform: translateZ(0);
}

.natural-depth::before {
  content: '';
  position: absolute;
  inset: -2px;
  background: linear-gradient(
    135deg,
    hsl(var(--card) / 0.1) 0%,
    transparent 50%,
    hsl(var(--muted) / 0.05) 100%
  );
  border-radius: inherit;
  z-index: -1;
  pointer-events: none;
}

.gentle-hover {
  transition:
    transform 0.3s cubic-bezier(0.4, 0, 0.2, 1),
    filter 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.gentle-hover:hover {
  transform: translateY(-1px) translateZ(0);
  filter: drop-shadow(0 4px 12px hsl(var(--foreground) / 0.08));
}

/* Atmospheric utilities */
.surface-atmo {
  background:
    linear-gradient(
      180deg,
      hsl(var(--card) / 0.32) 0%,
      hsl(var(--card) / 0.22) 100%
    );
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
  border: 1px solid hsl(var(--border) / 0.35);
  box-shadow:
    0 10px 30px rgba(0,0,0,0.18),
    inset 0 1px 0 hsl(var(--foreground) / 0.04);
}

.text-pop {
  text-shadow:
    0 1px 0 rgba(0,0,0,0.04),
    0 2px 8px rgba(0,0,0,0.10);
}

.shadow-atmo {
  box-shadow:
    0 8px 24px rgba(0,0,0,0.18),
    0 2px 8px rgba(0,0,0,0.12);
}

/* ========================================
   PREMIUM INTERACTIVE UTILITIES
   Glassy buttons with animated sheen
======================================== */
 .button-premium {
   position: relative;
   overflow: hidden;
   isolation: isolate;
   border-radius: inherit;
   /* subtle depth + inner highlight */
   box-shadow:
     0 10px 25px hsl(var(--foreground) / 0.10),
     0 2px 6px hsl(var(--foreground) / 0.06),
     inset 0 1px 0 hsla(0, 0%, 100%, 0.20);
 }

.button-premium::after {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(to bottom, rgba(255, 255, 255, 0.18), rgba(255, 255, 255, 0));
  opacity: 0.55;
  pointer-events: none;
  mix-blend-mode: soft-light;
}

.button-premium::before {
  content: '';
  position: absolute;
  top: -120%;
  left: -160%;
  width: 55%;
  height: 340%;
  background: linear-gradient(120deg, rgba(255, 255, 255, 0), rgba(255, 255, 255, 0.35), rgba(255, 255, 255, 0));
  transform: translateX(0) rotate(25deg);
  transition: transform 600ms ease, opacity 600ms ease;
  opacity: 0.0;
  pointer-events: none;
  mix-blend-mode: screen;
}

.button-premium:hover::before {
  transform: translateX(360%) rotate(25deg);
  opacity: 0.85;
}

@media (prefers-reduced-motion: reduce) {
  .button-premium::before {
    transition: none;
  }
}
