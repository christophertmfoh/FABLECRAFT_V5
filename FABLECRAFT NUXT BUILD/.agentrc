# Agent Command Restrictions Configuration
# Protects Cursor's Node connection while allowing dev server management

# FORBIDDEN COMMANDS - These kill system Node and break Cursor
FORBIDDEN_SYSTEM_COMMANDS=(
  "killall node"
  "pkill node"
  "kill -9 node"
  "killall -9 node"
  "pkill -9 node"
  "kill $(pgrep node)"
  "kill \$(pgrep node)"
  "ps aux | grep node | awk '{print $2}' | xargs kill"
  "ps aux | grep node | awk '{print \$2}' | xargs kill"
  "kill -KILL node"
  "killall -KILL node"
  "pkill -KILL node"
  "kill -f node"
  "killall -f node"
)

# ALLOWED DEV SERVER COMMANDS - These are safe for dev work
ALLOWED_DEV_COMMANDS=(
  "npm run safe-stop"
  "kill -TERM [specific_dev_pid]"
  "kill -INT [specific_dev_pid]"
  "lsof -ti:5050 | xargs kill -TERM"  # Only kills process on dev port
  "lsof -ti:5051 | xargs kill -TERM"  # Only kills process on dev port
)

# DEV SERVER IDENTIFIERS - Processes with these are safe to kill
DEV_SERVER_PATTERNS=(
  "nuxt"
  "nuxi"
  "vite"
  "webpack"
  "next dev"
  "npm run dev"
  "pnpm dev"
  "yarn dev"
)

# WARNING MESSAGE
WARNING_MESSAGE="
⚠️  COMMAND BLOCKED: This would kill Cursor's Node connection!
❌ Mass kill commands (killall, pkill) are NEVER safe.
✅ To stop the dev server, use:
   - npm run safe-stop
   - kill -TERM [specific_pid] (for dev processes only)
   - Ctrl+C in the terminal
"